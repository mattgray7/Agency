{% extends "base.html" %}

{% block content %}
{% load static %}
<link href="{% static "/AgencyApp/css/home.css" %}" rel="stylesheet" type="text/css" media="all" />

<script>
function createHomeFeed(){
	var feedString = "<div class='homeFeed'>"
	{% if request.user.is_authenticated %}
		// Add dashboard
		feedString += getDashboardString() + "<div style='height: 10px;'></div>"
	{% else %}
		feedString += "Please login."
	{% endif %}
	feedString += "</div>"
	return feedString
}

function getDashboardString(){
	var htmlString = "<div class='dashboard'><table style='width: 100%; height: 100%;'><tr>"

	htmlString += "<td onclick='redirect(" + '"{{possibleDestinations.createProjectPost}}");' + "'>Create Project</td>"
	htmlString += "<td onclick='redirect(" + '"{{possibleDestinations.createPost}}");' + "'>Create Post</td>"
	htmlString += "<td onclick='redirect(" + '"{{possibleDestinations.browse}}");' + "'>Browse</td>"
	htmlString += "</tr>"

	htmlString += "</table></div>";
	return htmlString;
}

</script>


{% if not request.user.is_authenticated %}
	<div style='position: relative; height: 295px; width: 100%;'>
		<div style='position: absolute; left: 0; right: 0; top: 0;'>
			<div id="banner" class="container">
				<div class="title">
					<h2>Welcome to the VanFilmCollective</h2>
						<span class="byline">A place for filmmakers, both amateur and professional, to connect and create.</span>
				</div>
			</div>
		</div>
	</div>
	<div id="wrapper">
		<div id="three-column" class="container">
			<div class="title">
				<h2>Explore the Vancouver film world.</h2>
				<span class="byline">Check out film work posts, events in your area, and more.</span>
			</div>
			<div class="boxA">
				<span class="fa fa-cloud-download"></span>
				<p>View posts seeking actors, on and off set workers, and collaborators</p>
				<a href="/browse/" class="button button-alt">View posts</a>
			</div>
			<div class="boxB">
				<span class="fa fa-cogs"></span>
				<p>View profiles of registered filmmakers and industry professionals</p>
				<a href="/browse/users/" class="button button-alt">View users</a>
			</div>
			<div class="boxC">
				<span class="fa fa-wrench"></span>
				<p> Create an account and get involved in the VanFilmCollective</p>
				<a href="/account/create/basic/" class="button button-alt">Create account</a>
			</div>
		</div>
	</div>
{% else %}
	<div id='backgroundPanel' class='backgroundPanel' style='min-width: 534px; min-height: 100%;'>
    	<div id="mainViewPanel" class="mainViewPanel" style="position: relative; width: 90%; min-width: 530px; max-width: 800px; background: rgba(0,0,0,0.05); border: none;">
    		<div id='homeFeedPanel' style='height: 100%; width: 100%;'>
    			<script>
    				document.write(createHomeFeed())
    			</script>
			</div>
		</div>
	</div>
{% endif %}

{% endblock %}