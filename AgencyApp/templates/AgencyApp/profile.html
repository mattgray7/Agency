{% extends "base.html" %}

{% block content %}
	{% if profileUserAccount %}
		{% if profileUserAccount.profilePicture %}
			<div id="profilePic">
				<img src="{{ profileUserAccount.profilePicture.url }}" height="150px" width="175px"/>
			</div>
		{% else %}
			<h5> No profile picture added</h5>
		{% endif %}
		{% if viewingOwnProfile %}
			<form action="/{{ profileUsername }}/" method="post">
				{% csrf_token %}
				<input type="hidden" name="source" value="{{ next }}" />
				<input type="hidden" name="current" value="{{ next }}" />
				<input type="hidden" name="destination" value="{{ possibleDestinations.picture }}" /> <!-- return to profile when done -->
				<input type="submit" value="Edit profile picture" />
			</form>
		{% endif %}
		<h1><u> {{ profileUserAccount.firstName }} {{ profileUserAccount.lastName }}</u></h1>

		<!-- Bio -->
		{% if profileUserAccount.bio %}
			<!-- TODO make bio editable on the page with js -->
			{{profileUserAccount.bio}}<br>
		{% endif %}

		<!-- Background -->
		{% if profileUserAccount.reelLink %}
			<a href="{{profileUserAccount.reelLink}}">Reel</a>
		{% endif %}
		{% if profileUserAccount.imdbLink %}
			<a href="{{profileUserAccount.imdbLink}}">IMDB</a>
		{% endif %}

		{% if viewingOwnProfile %}
			<form action="/{{ profileUsername }}/" method="post">
				{% csrf_token %}
				<input type="hidden" name="source" value="{{ next }}" />
				<input type="hidden" name="current" value="{{ next }}" />
				<input type="hidden" name="destination" value="{{ possibleDestinations.background }}" /> <!-- return to profile when done -->
				<input type="submit" value="Edit background" />
			</form>
		{% endif %}
		<br>

		<!-- Interests -->
		<h3> {{ profileUserAccount.firstName }} is looking for... </h3>
		<ul>
			{% if profileUserAccount.workInterest %}
				<li>Work</li>
			{% endif %}
			{% if profileUserAccount.crewInterest %}
				<li>A crew</li>
			{% endif %}
			{% if profileUserAccount.collaborationInterest %}
				<li>Collaboration</li>
			{% endif %}
		</ul>
		{% if viewingOwnProfile %}
			<form action="/{{ profileUsername }}/" method="post">
				{% csrf_token %}
				<input type="hidden" name="source" value="{{ next }}" />
				<input type="hidden" name="current" value="{{ next }}" />
				<input type="hidden" name="destination" value="{{ possibleDestinations.interests }}" /> <!-- return to profile when done -->
				<input type="submit" value="Edit profile interests" />
			</form>
		{% endif %}
		<br>

		<!-- Professions -->
		{% if profileProfessions %}
			<h3> {{ profileUserAccount.firstName }}'s interested professions include...</h3>
			<ul>
				{% for profession in profileProfessions %}
					<li>{{ profession }}</li>
				{% endfor %}
			</ul>
		{% else %}
			<h3> {{ profileUserAccount.firstName }} has not specified his interested professions </h3>
		{% endif %}
		{% if viewingOwnProfile %}
			<form action="/{{ profileUsername }}/" method="post">
				{% csrf_token %}
				<input type="hidden" name="source" value="{{ next }}" />
				<input type="hidden" name="current" value="{{ next }}" />
				<input type="hidden" name="destination" value="{{ possibleDestinations.professions }}" /> <!-- return to profile when done -->
				<input type="submit" value="Edit professions" />
			</form>
		{% endif %}

		<!-- Events -->
		{% if profileEvents %}
			<br><h3>Events {{ profileUserAccount.firstName }} has posted...</h3>
			<ul>
				{% for event in profileEvents %}
					<form method="post" action="/{{ profileUsername }}/"> 
						{% csrf_token %}
						<input type="hidden" name="eventID" value="{{event.eventID}}" />
						<input type="hidden" name="source" value="{{ next }}" />
						<input type="hidden" name="next" value="{{ possibleDestinations.viewEvent }}" />
						<input type="hidden" name="destination" value="{{ possibleDestinations.viewEvent }}" />
						<input type="submit" Value="{{ event.title }}" />
					</form>
				{% endfor %}
			</ul>
		{% endif %}
	{% else %}
		No user with name {{ profileUsername }} found.
	{% endif %}

{% endblock %}
