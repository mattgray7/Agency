{% extends "base.html" %}

{% block content %}
	{% if accountFound %}
		{% if userAccount.profilePicture %}
			<div id="profilePic">
				<img src="{{ userAccount.profilePicture.url }}" height="150px" width="175px"/>
			</div>
		{% else %}
			<h5> No profile picture added</h5>
		{% endif %}
		{% if request.user.is_authenticated and request.user.username == username %}
			<form action="/account/edit/picture/" method="post">
				{% csrf_token %}
				<input type="hidden" name="source" value="{{ source }}" />
				<input type="hidden" name="current" value="{{ possibleDestinations.picture }}" />
				<input type="hidden" name="destination" value="{{ source }}" /> <!-- return to profile when done -->
				<input type="submit" value="Edit profile picture" />
			</form>
		{% endif %}
		<h1><u> {{ userAccount.firstName }} {{ userAccount.lastName }}</u></h1>

		<!-- Bio -->
		{% if userAccount.bio %}
			<!-- TODO make bio editable on the page with js -->
			{{userAccount.bio}}<br>
		{% endif %}

		<!-- Background -->
		{% if userAccount.reelLink %}
			<a href="{{userAccount.reelLink}}">Reel</a>
		{% endif %}
		{% if userAccount.imdbLink %}
			<a href="{{userAccount.imdbLink}}">IMDB</a>
		{% endif %}

		{% if request.user.is_authenticated and request.user.username == username %}
			<form action="/account/edit/background/" method="post">
				{% csrf_token %}
				<input type="hidden" name="source" value="{{ source }}" />
				<input type="hidden" name="current" value="{{ possibleDestinations.background }}" />
				<input type="hidden" name="destination" value="{{ source }}" /> <!-- return to profile when done -->
				<input type="submit" value="Edit background" />
			</form>
		{% endif %}
		<br>

		<!-- Interests -->
		<h3> {{ userAccount.firstName }} is looking for... </h3>
		<ul>
			{% if userAccount.workInterest %}
				<li>Work</li>
			{% endif %}
			{% if userAccount.crewInterest %}
				<li>A crew</li>
			{% endif %}
			{% if userAccount.collaborationInterest %}
				<li>Collaboration</li>
			{% endif %}
		</ul>
		{% if request.user.is_authenticated and request.user.username == username %}
			<form action="/account/edit/interests/" method="post">
				{% csrf_token %}
				<input type="hidden" name="source" value="{{ source }}" />
				<input type="hidden" name="current" value="{{ possibleDestinations.interests }}" />
				<input type="hidden" name="destination" value="{{ source }}" /> <!-- return to profile when done -->
				<input type="submit" value="Edit profile interests" />
			</form>
		{% endif %}
		<br>

		<!-- Professions -->
		{% if userProfessions %}
			<h3> {{ userAccount.firstName }}'s interested professions include...</h3>
			<ul>
				{% for profession in userProfessions %}
					<li>{{profession}}</li>
				{% endfor %}
			</ul>
		{% else %}
			<h3> {{ userAccount.firstName }} has not specified his interested professions </h3>
		{% endif %}
		{% if request.user.is_authenticated and request.user.username == username %}
			<form action="/account/edit/professions/" method="post">
				{% csrf_token %}
				<input type="hidden" name="source" value="{{ source }}" />
				<input type="hidden" name="current" value="{{ possibleDestinations.professions }}" />
				<input type="hidden" name="destination" value="{{ source }}" /> <!-- return to profile when done -->
				<input type="submit" value="Edit professions" />
			</form>
		{% endif %}

		<!-- Events -->
		{% if eventsFound %}
			<br><h3>Events {{ userAccount.firstName }} has posted...</h3>
			<ul>
				{% for event in events %}
					<li><a href='/view/event/{{event.eventID}}/'>{{ event.title }}</a></li>
				{% endfor %}
			</ul>
		{% endif %}
	{% else %}
		No user with name {{ username }} found.
	{% endif %}

{% endblock %}
